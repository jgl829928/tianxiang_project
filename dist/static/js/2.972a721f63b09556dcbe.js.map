{"version":3,"sources":["webpack:///src/views/sampling/index.vue","webpack:///./src/views/sampling/index.vue?a9ba","webpack:///./src/views/sampling/index.vue","webpack:///src/components/\bselectServer.vue","webpack:///./src/components/\bselectServer.vue?bfeb","webpack:///./src/components/\bselectServer.vue"],"names":["_ref","sampling","name","components","LineChart","line","selectServer","_selectServer","data","reqdata","selectId","id","baseInfo","timeInterval","cpuData","diskData","pingData","ramData","fileList","type","seconds","fileInterval","fileUrl","file_dialog","isOpen","beforeRouteLeave","to","from","next","clearInterval","this","methods","search","Object","auth","getLineData","getOldFile","setInterval","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","wrap","_context","prev","$http","get","api","samInfo","sent","Code","Data","historymap","delData","CPU","DISK","PING","RAM","stop","timeData","numData","map","item","Utilization","push","RecordTime","rotate","submitForm","getNewFile","_this2","samFile","then","filelist","length","_this3","createFile","handleOpen","_callee2","index","row","_this4","_context2","setTimeout","openFile","abrupt","heartCheck","getSource","_x","_x2","apply","arguments","file_close","_this5","_callee3","_context3","closeFile","_this6","_callee4","_context4","_this7","_callee5","time","_context5","Date","getTime","openLink","$store","state","token","handleDelete","_this8","$confirm","distinguishCancelAndClose","confirmButtonText","cancelButtonText","_that","delRequest","_this9","delFile","$message","message","duration","views_sampling","render","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","on","getserver","_v","span","xs","_s","ip","lineData","status-icon","label-width","hide-required-asterisk","label","prop","placeholder","model","value","callback","$$v","expression","controls-position","min","max","_e","click","$event","staticStyle","width","max-height","align","scopedSlots","_u","key","fn","scope","size","plain","disabled","$index","visible","center","update:visible","close","src","frameborder","height","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","props","serverList","typeList","mounted","getData","serverlist","$emit","mapcitytypelist","components__selectServer","$set","_l","icon"],"mappings":"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","file":"static/js/2.972a721f63b09556dcbe.js","sourcesContent":["<template>\n  <div class=\"chart_content\" ref=\"sampling\">\n    <select-server :reqdata=\"reqdata\" @getserver=\"search\" :name=\"name\"></select-server>\n    <div class=\"chart_grid\">\n      <el-row>\n        <el-col :span=\"16\" :xs=\"24\" class=\"left_grid\">\n          <div class=\"frame\">\n            <div class=\"frameTop\">\n              <span class=\"frameName\">BASE INFO</span>\n            </div>\n            <div class=\"frameDiv\">\n              <table class=\"tables\">\n                <tr>\n                  <td>ID</td>\n                  <td>{{baseInfo.id}}</td>\n                </tr>\n                <tr>\n                  <td>IP</td>\n                  <td>{{baseInfo.ip}}</td>\n                </tr>\n              </table>\n              <table class=\"tables\">\n                <tr>\n                  <td>NAME</td>\n                  <td>{{baseInfo.name}}</td>\n                </tr>\n                <tr>\n                  <td>TYPE</td>\n                  <td>{{baseInfo.type}}</td>\n                </tr>\n              </table>\n            </div>\n          </div>\n          <div class=\"lineCharts\">\n            <el-row>\n              <el-col :span=\"12\" :xs=\"24\">\n                <LineChart :lineData=\"cpuData\"></LineChart>\n              </el-col>\n              <el-col :span=\"12\" :xs=\"24\">\n                <LineChart :lineData=\"diskData\"></LineChart>\n              </el-col>\n            </el-row>\n            <el-row>\n              <el-col :span=\"12\" :xs=\"24\">\n                <LineChart :lineData=\"pingData\"></LineChart>\n              </el-col>\n              <el-col :span=\"12\" :xs=\"24\">\n                <LineChart :lineData=\"ramData\"></LineChart>\n              </el-col>\n            </el-row>\n          </div>\n        </el-col>\n\n        <el-col :span=\"8\" :xs=\"24\">\n          <div class=\"frame fileTable\">\n            <div class=\"frameTop\">\n              <span class=\"frameName\">FileList</span>\n            </div>\n            <el-form\n              status-icon\n              ref=\"reqform\"\n              label-width=\"65px\"\n              class=\"second_form\"\n              hide-required-asterisk\n            >\n              <el-row>\n                <el-col :span=\"10\" :xs=\"24\">\n                  <el-form-item label=\"Type\" prop=\"seconds\">\n                    <el-select v-model=\"type\" placeholder=\"请选择类型\">\n                      <el-option label=\"CPU\" value=\"cpu\"></el-option>\n                      <el-option label=\"RAM\" value=\"ram\"></el-option>\n                    </el-select>\n                  </el-form-item>\n                </el-col>\n                <el-col :span=\"10\" :xs=\"24\">\n                  <el-form-item label=\"Seconds\" prop=\"seconds\" v-if=\"type=='cpu'\">\n                    <el-input-number v-model=\"seconds\" controls-position=\"right\" :min=\"1\" :max=\"30\"></el-input-number>\n                  </el-form-item>\n                </el-col>\n                <el-col :span=\"4\" :xs=\"24\">\n                  <el-form-item>\n                    <el-button type=\"primary\" @click=\"submitForm('reqform')\">submit</el-button>\n                  </el-form-item>\n                </el-col>\n              </el-row>\n            </el-form>\n            <div class=\"frame_content\">\n              <el-table\n                :data=\"fileList\"\n                style=\"width: 100%\"\n                class=\"level_tab tables\"\n                max-height=\"580\"\n              >\n                <el-table-column type=\"index\" width=\"50\"></el-table-column>\n                <el-table-column align=\"center\" label=\"File Name\">\n                  <template slot-scope=\"scope\">{{scope.row}}</template>\n                </el-table-column>\n                <el-table-column prop=\"Name\" align=\"center\" label=\"option\" width=\"220\">\n                  <template slot-scope=\"scope\">\n                    <el-button\n                      @click=\"handleOpen(scope.$index,scope.row)\"\n                      class=\"common_btn\"\n                      type=\"success\"\n                      size=\"small\"\n                      plain\n                      :disabled=\"isOpen\"\n                    >open</el-button>\n                    <el-button\n                      @click=\"handleDelete(scope.$index,scope.row)\"\n                      class=\"el-icon-delete delete_btn\"\n                      type=\"danger\"\n                      size=\"small\"\n                      plain\n                    >delete</el-button>\n                  </template>\n                </el-table-column>\n              </el-table>\n            </div>\n          </div>\n        </el-col>\n      </el-row>\n    </div>\n    <el-dialog\n      :visible.sync=\"file_dialog\"\n      width=\"80%\"\n      center\n      class=\"file_dailog\"\n      @close=\"file_close\"\n    >\n      <iframe :src=\"fileUrl\" frameborder=\"0\" width=\"100%\" height=\"800\"></iframe>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport echarts from \"echarts\";\nimport LineChart from \"@/components/line\";\nimport selectServer from \"@/components/\bselectServer\";\nimport api from \"@/utils/api\";\nimport { timeFormat, _debounce } from \"@/utils/auth\";\nexport default {\n  name: \"Sampling\",\n  components: { LineChart, selectServer },\n  data() {\n    return {\n      // 下拉搜索\n      name: \"sampling\",\n      reqdata: {\n        selectId: \"\"\n      },\n      id: \"\",\n      // 基础信息\n      baseInfo: [],\n      //  定时器\n      timeInterval: \"\",\n      // 折线图数据\n      cpuData: {},\n      diskData: {},\n      pingData: {},\n      ramData: {},\n      // 文件列表\n      fileList: [],\n      // 提交类型与时间\n      type: \"cpu\",\n      seconds: 30,\n      // 定时器\n      fileInterval: \"\",\n      fileUrl: \"\",\n      file_dialog: false,\n      isOpen: false\n    };\n  },\n  beforeRouteLeave(to, from, next) {\n    clearInterval(this.timeInterval);\n    clearInterval(this.fileInterval);\n    next();\n  },\n  methods: {\n    // 搜索\n    search:_debounce(function(id) {\n      if (!id) return false;\n      this.id = id;\n      clearInterval(this.timeInterval);\n      this.getLineData(); //折线图及基本数据\n      this.getOldFile(); //获取历史文件\n      this.timeInterval = setInterval(this.getLineData, 5 * 1000); //定时更新数据\n    },500),\n\n    // 获取折线图数据\n    async getLineData() {\n      let res = await this.$http.get(`${api.samInfo}?serverid=${this.id}`);\n      if (res && res.Code === 1) {\n        this.baseInfo = res.Data;\n        let data = this.baseInfo.historymap;\n        this.cpuData = this.delData(data.CPU, \"CPU\");\n        this.diskData = this.delData(data.DISK, \"DISK\");\n        this.pingData = this.delData(data.PING, \"PING\");\n        this.ramData = this.delData(data.RAM, \"RAM\");\n      }\n    },\n\n    //处理折线图数据\n    delData(data, name) {\n      let timeData = [],\n        numData = [];\n      data.map(item => {\n        if (name === \"PING\") item.Utilization = item.Utilization / 1000000;\n        timeData.push(timeFormat(item.RecordTime * 1000,\"hour\"));\n        numData.push(item.Utilization);\n      });\n      return {\n        timeData,\n        numData,\n        name,\n        rotate: false\n      };\n    },\n\n    // 提交表单\n    submitForm:_debounce(function() {\n      this.getNewFile();\n    },500),\n\n    // 获取文件数据\n    getOldFile() {\n      this.$http.get(`${api.samFile}?serverid=${this.id}`).then(res => {\n        if (res && res.Code === 1) {\n          this.fileList = res.Data.filelist || [];\n          if (!this.fileList || this.fileList.length <= 0) return;\n        }\n      });\n    },\n\n    //获取最新生成的文件\n    getNewFile() {\n      let data = `serverid=${this.id}&sampling=${this.type}`;\n      data = this.type == \"cpu\" ? `${data}&seconds=${this.seconds}` : data;\n      this.$http.get(`${api.createFile}?${data}`).then(res => {\n        if (res && res.Code === 1) {\n          this.fileList = res.Data.filelist || [];\n        }\n      });\n    },\n     handleOpen:_debounce(async function(index, row) {\n      this.isOpen = true;\n      setTimeout(() => {\n        this.isOpen = false;\n      }, 3 * 1000);\n\n      let res = await this.$http.get(`${api.openFile}?file=${row}`);\n      if (!res || res.Code !== 1) return false;\n      this.heartCheck();\n      clearInterval(this.fileInterval);\n      // 每十秒检测心跳\n      this.fileInterval = setInterval(this.heartCheck, 10 * 1000);\n      // 2秒之后获取资源\n      setTimeout(() => {\n        this.getSource();\n        this.isOpen = false;\n      }, 2 * 1000);\n    },500),\n\n    // 关闭文件\n    async file_close() {\n      clearInterval(this.fileInterval);\n      // closeFile\n      let res = await this.$http.get(api.closeFile);\n    },\n\n    // 心跳链接\n    async heartCheck() {\n      let res = await this.$http.get(api.heartCheck);\n    },\n\n    // 获取资源\n    async getSource() {\n      let time = new Date().getTime();\n      this.fileUrl = `${api.openLink}?accesstoken=${\n        this.$store.state.token\n      }&time=${time}`;\n      this.file_dialog = true;\n    },\n\n    // 删除文件\n    handleDelete(index, row) {\n      this.$confirm(\"请确认是否删除\", \"提示\", {\n        distinguishCancelAndClose: true,\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\"\n      }).then(() => {\n        let _that=this\n        _debounce(function(){\n          _that.delRequest(row)\n        },500)()\n      });\n    },\n    \n    delRequest(row){\n      this.$http.get(`${api.delFile}?file=${row}`).then(res => {\n          if (res && res.Code === 1) {\n            this.$message({\n              message: \"删除成功\",\n              type: \"success\",\n              duration: 1000\n            });\n            this.getOldFile(); //获取历史文件\n          }\n        });\n\n    },\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n@import url(\"./index.less\");\n</style>\n<style lang=\"less\">\n@import url(\"./ele_index.less\");\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/sampling/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"sampling\",staticClass:\"chart_content\"},[_c('select-server',{attrs:{\"reqdata\":_vm.reqdata,\"name\":_vm.name},on:{\"getserver\":_vm.search}}),_vm._v(\" \"),_c('div',{staticClass:\"chart_grid\"},[_c('el-row',[_c('el-col',{staticClass:\"left_grid\",attrs:{\"span\":16,\"xs\":24}},[_c('div',{staticClass:\"frame\"},[_c('div',{staticClass:\"frameTop\"},[_c('span',{staticClass:\"frameName\"},[_vm._v(\"BASE INFO\")])]),_vm._v(\" \"),_c('div',{staticClass:\"frameDiv\"},[_c('table',{staticClass:\"tables\"},[_c('tr',[_c('td',[_vm._v(\"ID\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.baseInfo.id))])]),_vm._v(\" \"),_c('tr',[_c('td',[_vm._v(\"IP\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.baseInfo.ip))])])]),_vm._v(\" \"),_c('table',{staticClass:\"tables\"},[_c('tr',[_c('td',[_vm._v(\"NAME\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.baseInfo.name))])]),_vm._v(\" \"),_c('tr',[_c('td',[_vm._v(\"TYPE\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.baseInfo.type))])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"lineCharts\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":12,\"xs\":24}},[_c('LineChart',{attrs:{\"lineData\":_vm.cpuData}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12,\"xs\":24}},[_c('LineChart',{attrs:{\"lineData\":_vm.diskData}})],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12,\"xs\":24}},[_c('LineChart',{attrs:{\"lineData\":_vm.pingData}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12,\"xs\":24}},[_c('LineChart',{attrs:{\"lineData\":_vm.ramData}})],1)],1)],1)]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8,\"xs\":24}},[_c('div',{staticClass:\"frame fileTable\"},[_c('div',{staticClass:\"frameTop\"},[_c('span',{staticClass:\"frameName\"},[_vm._v(\"FileList\")])]),_vm._v(\" \"),_c('el-form',{ref:\"reqform\",staticClass:\"second_form\",attrs:{\"status-icon\":\"\",\"label-width\":\"65px\",\"hide-required-asterisk\":\"\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":10,\"xs\":24}},[_c('el-form-item',{attrs:{\"label\":\"Type\",\"prop\":\"seconds\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择类型\"},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}},[_c('el-option',{attrs:{\"label\":\"CPU\",\"value\":\"cpu\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"RAM\",\"value\":\"ram\"}})],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":10,\"xs\":24}},[(_vm.type=='cpu')?_c('el-form-item',{attrs:{\"label\":\"Seconds\",\"prop\":\"seconds\"}},[_c('el-input-number',{attrs:{\"controls-position\":\"right\",\"min\":1,\"max\":30},model:{value:(_vm.seconds),callback:function ($$v) {_vm.seconds=$$v},expression:\"seconds\"}})],1):_vm._e()],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":4,\"xs\":24}},[_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('reqform')}}},[_vm._v(\"submit\")])],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"frame_content\"},[_c('el-table',{staticClass:\"level_tab tables\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.fileList,\"max-height\":\"580\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"File Name\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"Name\",\"align\":\"center\",\"label\":\"option\",\"width\":\"220\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"common_btn\",attrs:{\"type\":\"success\",\"size\":\"small\",\"plain\":\"\",\"disabled\":_vm.isOpen},on:{\"click\":function($event){return _vm.handleOpen(scope.$index,scope.row)}}},[_vm._v(\"open\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"el-icon-delete delete_btn\",attrs:{\"type\":\"danger\",\"size\":\"small\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index,scope.row)}}},[_vm._v(\"delete\")])]}}])})],1)],1)],1)])],1)],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"file_dailog\",attrs:{\"visible\":_vm.file_dialog,\"width\":\"80%\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.file_dialog=$event},\"close\":_vm.file_close}},[_c('iframe',{attrs:{\"src\":_vm.fileUrl,\"frameborder\":\"0\",\"width\":\"100%\",\"height\":\"800\"}})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-93185b40\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/sampling/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-93185b40\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-93185b40\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-93185b40\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-93185b40\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/sampling/index.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"select_server\">\n    <span class=\"left_name\">id</span>\n    <el-select v-model=\"reqdata.selectId\" placeholder=\"请选择\">\n      <el-option v-for=\"(item,index) in serverList\" :label=\"item\" :value=\"item\" :key=\"index\"></el-option>\n    </el-select>\n    <el-button class=\"right_btn\" type=\"info\" plain icon=\"el-icon-search\" @click=\"search\" :disabled=\"disabled\"></el-button>\n  </div>\n</template>\n<script>\nimport api from \"@/utils/api\";\nexport default {\n  name: \"selectServer\",\n  props: [\"reqdata\",\"name\",\"disabled\"],\n  data() {\n    return {\n      serverList: [],\n      typeList:[],\n    };\n  },\n  mounted() {\n    this.getData();\n  },\n  methods: {\n    // 获取搜索下拉框数据\n    async getData() {\n      let res = await this.$http.get(api[this.name]);\n      if (res && res.Code === 1) {\n        this.serverList = res.Data.serverlist || [];\n        if(this.name==\"worldmap\"){\n          this.$emit(\"typeList\", res.Data.mapcitytypelist);\n        }\n      }\n    },\n    search() {\n      this.$emit(\"getserver\", this.reqdata.selectId);\n    }\n  }\n};\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/\bselectServer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"select_server\"},[_c('span',{staticClass:\"left_name\"},[_vm._v(\"id\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.reqdata.selectId),callback:function ($$v) {_vm.$set(_vm.reqdata, \"selectId\", $$v)},expression:\"reqdata.selectId\"}},_vm._l((_vm.serverList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item,\"value\":item}})}),1),_vm._v(\" \"),_c('el-button',{staticClass:\"right_btn\",attrs:{\"type\":\"info\",\"plain\":\"\",\"icon\":\"el-icon-search\",\"disabled\":_vm.disabled},on:{\"click\":_vm.search}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7dfa481f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/\bselectServer.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./\\bselectServer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./\\bselectServer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7dfa481f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./\\bselectServer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/\bselectServer.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}