{"version":3,"sources":["webpack:///./src/excel/dealOutData.js","webpack:///src/views/activity/edit.vue","webpack:///./src/views/activity/edit.vue?e60a","webpack:///./src/views/activity/edit.vue"],"names":["data","activityData","JSON","parse","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default","ActiveList","forEach","item","index","Comment","GroupID","ServerIDList","join","ActionParams","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default","next","done","typeItem","value","Key","Value","err","return","ClientParams","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","tHead","outexcel","edit","name","activeNames","activityInfo","activitySelect","checkAll","isIndeterminate","setResults","dialogVisible","mounted","this","getParams","getData","methods","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","wrap","_context","prev","$http","get","api","activeEdit","sent","Code","Data","stop","actInfo","$route","query","activities","reverseType","selcet","list","stringify_default","get_iterator_default","Type","Des","handleCheckAllChange","val","serverList","handleEdit","_this2","$confirm","confirmButtonText","cancelButtonText","type","then","editSubmit","Object","auth","_this3","Number","post","actEditSubmit","$message","message","outExcel","dealOutData","handleClose","$router","push","params","timeType","formatUtc","time","activity_edit","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","span","xs","_s","clearable","placeholder","model","callback","$$v","$set","expression","staticStyle","height","indeterminate","on","change","margin","_l","key","label","click","slot","ActivityType","ReferenceType","TimeArg1","TimeArg2","Ahead","Delay","clientItem","actionItem","title","visible","width","update:visible","$event","closed","addSuccessServerIDList","_e","addFailedServerIDList","delSuccessServerIDList","delFailedServerIDList","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/14.5fd4d907315e2ea42346.js","sourcesContent":["import {outexcel} from '@/utils/auth.js'\n// 处理activies数据并导出excel\nexport function dealAndOutExcel(data) {\n    let activityData = JSON.parse(JSON.stringify(data));\n    activityData.ActiveList.forEach((item, index) => {\n      item.Comment = activityData.Comment;\n      item.GroupID = activityData.GroupID;\n      item.ServerIDList = activityData.ServerIDList ? activityData.ServerIDList.join(\",\") : \"\";\n      item.index = index + 1;\n      if (item.ActionParams) {\n        for (let typeItem of item.ActionParams) {\n          item[`ACTION_${typeItem.Key}`] = typeItem.Value;\n        }\n      }\n      if (item.ClientParams) {\n        for (let typeItem of item.ClientParams) {\n          item[`CLIENT_${typeItem.Key}`] = typeItem.Value;\n        }\n  \n      }\n      delete item.ActionParams;\n      delete item.ClientParams;\n    });\n    let tHead = [\"ActivityType\", \"ReferenceType\", \"TimeArg1\", \"TimeArg2\", \"Ahead\", \"Delay\", \"Comment\", \"GroupID\", \"ServerIDList\", \"index\", \"ACTION_task_rewardgroup\", \"ACTION_task_taskgroup\", \"ACTION_task_sendmail\", \"ACTION_task_mailtile\", \"ACTION_rank_listId\", \"ACTION_rank_questype\", \"ACTION_rank_listname\", \"ACTION_rank_mailtitle\", \"ACTION_rank_typeparam\", \"ACTION_shop_shopid\", \"ACTION_collect_rewardgroup\", \"ACTION_\", \"ACTION_point_itemtype\", \"ACTION_point_rewardgroup\", \"ACTION_tasklimit_type\", \"ACTION_tasklimit_param1\", \"ACTION_tasklimit_range1\", \"ACTION_tasklimit_endvalue\", \"ACTION_tasklimit_recordtype\", \"CLIENT_INT_ACTIVITIES_TYPE\", \"CLIENT_STR_TITLE\", \"CLIENT_STR_CONTENT_TITLE\", \"CLIENT_STR_CONTENT_TEXT\", \"CLIENT_STR_ADD_BANNER\", \"CLIENT_STR_PIC_PATH\", \"CLIENT_INT_ACTIVITIES_TYPE_CATEGORY\", \"CLIENT_STR_RULE\", \"CLIENT_INT_IS_ACHIEVE_SHOW\", \"CLIENT_INT_SORTINDEX\"]\n    outexcel(tHead,tHead, activityData.ActiveList,\"活动配置excel\");\n  }\n\n\n// WEBPACK FOOTER //\n// ./src/excel/dealOutData.js","<template>\n  <div class=\"common_page activity_edit\">\n    <div class=\"title addHeader\">Edit A Profile</div>\n    <hr>\n    <div class=\"common_args\">\n      <el-row>\n        <el-col :span=\"8\" :xs=\"24\">\n          <div>\n            <label>groupid</label>\n            <span>{{activityInfo.GroupID}}</span>\n          </div>\n        </el-col>\n        <el-col :span=\"8\" :xs=\"24\">\n          <div>\n            <label>comment</label>\n            <span class=\"commentInput\">\n              <el-input type=\"textarea\" v-model=\"activityInfo.Comment\" clearable placeholder=\"Comment\"></el-input>\n            </span>\n          </div>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"24\" :xs=\"24\">\n          <label>serverList</label>\n          <span class=\"serverCheck\">\n            <el-scrollbar style=\"height: 100%\">\n              <el-checkbox :indeterminate=\"isIndeterminate\" v-model=\"checkAll\" @change=\"handleCheckAllChange\">全选</el-checkbox>\n              <div style=\"margin: 15px 0;\"></div>\n              <el-checkbox-group v-model=\"activityInfo.ServerIDList\">\n                <el-checkbox v-for=\"(item,index) in activitySelect.serverList\" :label=\"item\" :key=\"index\">{{item}}</el-checkbox>\n              </el-checkbox-group>\n            </el-scrollbar>\n          </span>\n        </el-col>\n      </el-row>\n      <div class=\"operate_btn\">\n        <el-button type=\"primary\" @click=\"handleEdit\">提交</el-button>\n        <el-button type=\"plain\" @click=\"outExcel\">导出</el-button>\n      </div>\n    </div>\n    <el-card class=\"box-card\">\n      <el-collapse v-model=\"activeNames\">\n        <el-collapse-item :name=\"index\" v-for=\"(item,index) in activityInfo.ActiveList\" :key=\"index\">\n          <template slot=\"title\">Activity {{index+1}}</template>\n          <div class=\"activity_item\">\n            <div class=\"info_title\">BASE PARAMS</div>\n            <div class=\"info_content\">\n              <el-row>\n                <el-col :span=\"8\" :xs=\"24\">\n                  <div>\n                    <label>Activity Type</label>\n                    <span>{{reverseType('activityTypeSelect',item.ActivityType)}}</span>\n                  </div>\n                </el-col>\n                <el-col :span=\"8\" :xs=\"24\">\n                  <div>\n                    <label>Reference Type</label>\n                    <span>{{reverseType('referenceTypeSelect',item.ReferenceType)}}</span>\n                  </div>\n                </el-col>\n                <el-col :span=\"8\" :xs=\"24\">\n                  <div>\n                    <label>Time</label>\n                    <span v-if=\"item.ReferenceType==1\">\n                      {{formatUtc(item.TimeArg1*1000)}} -\n                      {{formatUtc(item.TimeArg2*1000)}}\n                    </span>\n                    <span v-else>{{item.TimeArg1}}—{{item.TimeArg2}}</span>\n                  </div>\n                </el-col>\n                <el-col :span=\"8\" :xs=\"24\">\n                  <div>\n                    <label>Ahead</label>\n                    <span>{{item.Ahead}}</span>\n                  </div>\n                </el-col>\n                <el-col :span=\"8\" :xs=\"24\">\n                  <div>\n                    <label>Delay</label>\n                    <span>{{item.Delay}}</span>\n                  </div>\n                </el-col>\n              </el-row>\n            </div>\n            <div class=\"info_title\">CLIENT PARAMS</div>\n            <div class=\"info_content\">\n              <el-row>\n                <el-col :span=\"12\" :xs=\"24\" v-for=\"(clientItem,index) in item.ClientParams\" :key=\"index\">\n                  <div class=\"clientItem\">\n                    <label>{{clientItem.Key}}</label>\n                    <span v-if=\"clientItem.Key=='INT_ACTIVITIES_TYPE'\">{{reverseType('INT_ACTIVITIES_TYPESelect',clientItem.Value)}}</span>\n                    <span v-else>{{clientItem.Value}}</span>\n                  </div>\n                </el-col>\n              </el-row>\n            </div>\n            <div class=\"info_title\">ACTION PARAMS</div>\n            <div class=\"info_content\">\n              <el-row>\n                <el-col :span=\"8\" :xs=\"24\" v-for=\"(actionItem,index) in item.ActionParams\" :key=\"index\">\n                  <div>\n                    <label>{{actionItem.Key}}</label>\n                    <span v-if=\"actionItem.Key=='shopId'\">{{reverseType('activityShopSelect',actionItem.Value)}}</span>\n                    <span v-else-if=\"actionItem.Key=='rankListId'\">{{reverseType('activityRankTypeSelect',actionItem.Value)}}</span>\n                    <span v-else-if=\"actionItem.Key=='rewardgroup'\">{{reverseType('activityRankRewardSelect',actionItem.Value)}}</span>\n                    <span v-else-if=\"actionItem.Key=='rankName'\">{{reverseType('activityRankNameSelect',actionItem.Value)}}</span>\n                    <span v-else-if=\"actionItem.Key=='taskmailTitle'\">{{reverseType('activityMailTitleSelect',actionItem.Value)}}</span>\n                    <span v-else-if=\"actionItem.Key=='tasklimit_type'\">{{reverseType('activityTaskLimiteSelect',actionItem.Value)}}</span>\n                    <span v-else-if=\"actionItem.Key=='tasklimit_range1'\">{{reverseType('activityRangeTypeSelect',actionItem.Value)}}</span>\n                    <span v-else-if=\"actionItem.Key=='tasklimit_recordtype'\">{{reverseType('activityRecordTypeSelect',actionItem.Value)}}</span>\n                    <span v-else>{{actionItem.Value}}</span>\n                  </div>\n                </el-col>\n              </el-row>\n            </div>\n          </div>\n        </el-collapse-item>\n      </el-collapse>\n    </el-card>\n    <el-dialog title=\"提示\" :visible.sync=\"dialogVisible\" width=\"30%\" @closed=\"handleClose\">\n      <div v-if=\"setResults.addSuccessServerIDList\">添加成功的服务器：{{setResults.addSuccessServerIDList.join(\",\")}}</div>\n      <div v-if=\"setResults.addFailedServerIDList\">添加失败的服务器：{{setResults.addFailedServerIDList.join(\",\")}}</div>\n      <div v-if=\"setResults.delSuccessServerIDList\">删除成功的服务器：{{setResults.delSuccessServerIDList.join(\",\")}}</div>\n      <div v-if=\"setResults.delFailedServerIDList\">删除失败的服务器：{{setResults.delFailedServerIDList.join(\",\")}}</div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"dialogVisible = false\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n<script>\n  import api from \"@/utils/api\";\n  import { formatUtc ,_debounce} from \"@/utils/auth\";\n  import { dealAndOutExcel } from \"@/excel/dealOutData\";\n  export default {\n    name: \"activityEdit\",\n    data() {\n      return {\n        activeNames: \"\",\n        activityInfo: {},\n        activitySelect: {},\n        checkAll: false,\n        isIndeterminate: true,\n        setResults: {},\n        dialogVisible: false\n      };\n    },\n    mounted() {\n      this.getParams();\n      this.getData();\n    },\n    methods: {\n      // 获取下拉数据\n      async getData() {\n        let res = await this.$http.get(api.activeEdit);\n        if (res && res.Code === 1) {\n          this.activitySelect = res.Data;\n        }\n      },\n\n      // 获取传入参数\n      getParams() {\n        let actInfo = this.$route.query;\n        actInfo.ServerIDList =\n          actInfo.ServerIDList == \"null\" ? [] : JSON.parse(actInfo.ServerIDList);\n        actInfo.ActiveList = JSON.parse(actInfo.activities);\n        this.activityInfo = actInfo;\n      },\n\n      // 转换类型\n      reverseType(selcet, data) {\n        let list = [];\n        if (this.activitySelect[selcet]) {\n          list = JSON.parse(JSON.stringify(this.activitySelect[selcet]));\n        }\n        for (let item of list) {\n          if (item.Type == data) {\n            return item.Des;\n          }\n        }\n        return data;\n      },\n\n      // 全选\n      handleCheckAllChange(val) {\n        this.activityInfo.ServerIDList = val\n          ? this.activitySelect.serverList\n          : [];\n        this.isIndeterminate = false;\n      },\n\n      // 编辑\n      handleEdit() {\n        this.$confirm(\"请确认是否修改?\", \"提示\", {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\"\n        }).then(() => {\n          this.editSubmit();\n        });\n      },\n\n      // 提交编辑\n      editSubmit:_debounce(function() { \n        let data = {\n          GroupID: Number(this.activityInfo.GroupID),\n          ServerIDList: this.activityInfo.ServerIDList\n          // Comment:this.activityInfo.Comment\n        };\n        this.$http.post(api.actEditSubmit, data).then(res => {\n          if (res && res.Code === 1) {\n            this.$message({\n              message: \"编辑成功\",\n              type: \"success\"\n            });\n            this.setResults = res.Data;\n            this.dialogVisible = true;\n          }\n        });\n      },500),\n      \n      // 导出\n      outExcel:_debounce(function() {\n        dealAndOutExcel(this.activityInfo);\n      },500),\n\n      handleClose() {\n        this.$router.push({\n          name: \"activity\",\n          params: {\n            timeType: this.activityInfo.timeType\n          }\n        });\n      },\n      formatUtc(time) {\n        return formatUtc(time);\n      }\n    }\n  };\n</script>\n<style lang=\"less\" scoped>\n  @import url(\"./edit.less\");\n</style>\n<style lang=\"less\">\n  .activity_edit {\n    .el-collapse-item__header {\n      text-align: center;\n      font-size: 16px;\n      font-weight: 600;\n    }\n\n    .common_args {\n      .el-row {\n        margin: 20px 0;\n      }\n    }\n  }\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/activity/edit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"common_page activity_edit\"},[_c('div',{staticClass:\"title addHeader\"},[_vm._v(\"Edit A Profile\")]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('div',{staticClass:\"common_args\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":8,\"xs\":24}},[_c('div',[_c('label',[_vm._v(\"groupid\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.activityInfo.GroupID))])])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8,\"xs\":24}},[_c('div',[_c('label',[_vm._v(\"comment\")]),_vm._v(\" \"),_c('span',{staticClass:\"commentInput\"},[_c('el-input',{attrs:{\"type\":\"textarea\",\"clearable\":\"\",\"placeholder\":\"Comment\"},model:{value:(_vm.activityInfo.Comment),callback:function ($$v) {_vm.$set(_vm.activityInfo, \"Comment\", $$v)},expression:\"activityInfo.Comment\"}})],1)])])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24,\"xs\":24}},[_c('label',[_vm._v(\"serverList\")]),_vm._v(\" \"),_c('span',{staticClass:\"serverCheck\"},[_c('el-scrollbar',{staticStyle:{\"height\":\"100%\"}},[_c('el-checkbox',{attrs:{\"indeterminate\":_vm.isIndeterminate},on:{\"change\":_vm.handleCheckAllChange},model:{value:(_vm.checkAll),callback:function ($$v) {_vm.checkAll=$$v},expression:\"checkAll\"}},[_vm._v(\"全选\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"15px 0\"}}),_vm._v(\" \"),_c('el-checkbox-group',{model:{value:(_vm.activityInfo.ServerIDList),callback:function ($$v) {_vm.$set(_vm.activityInfo, \"ServerIDList\", $$v)},expression:\"activityInfo.ServerIDList\"}},_vm._l((_vm.activitySelect.serverList),function(item,index){return _c('el-checkbox',{key:index,attrs:{\"label\":item}},[_vm._v(_vm._s(item))])}),1)],1)],1)])],1),_vm._v(\" \"),_c('div',{staticClass:\"operate_btn\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleEdit}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"plain\"},on:{\"click\":_vm.outExcel}},[_vm._v(\"导出\")])],1)],1),_vm._v(\" \"),_c('el-card',{staticClass:\"box-card\"},[_c('el-collapse',{model:{value:(_vm.activeNames),callback:function ($$v) {_vm.activeNames=$$v},expression:\"activeNames\"}},_vm._l((_vm.activityInfo.ActiveList),function(item,index){return _c('el-collapse-item',{key:index,attrs:{\"name\":index}},[_c('template',{slot:\"title\"},[_vm._v(\"Activity \"+_vm._s(index+1))]),_vm._v(\" \"),_c('div',{staticClass:\"activity_item\"},[_c('div',{staticClass:\"info_title\"},[_vm._v(\"BASE PARAMS\")]),_vm._v(\" \"),_c('div',{staticClass:\"info_content\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":8,\"xs\":24}},[_c('div',[_c('label',[_vm._v(\"Activity Type\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.reverseType('activityTypeSelect',item.ActivityType)))])])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8,\"xs\":24}},[_c('div',[_c('label',[_vm._v(\"Reference Type\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.reverseType('referenceTypeSelect',item.ReferenceType)))])])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8,\"xs\":24}},[_c('div',[_c('label',[_vm._v(\"Time\")]),_vm._v(\" \"),(item.ReferenceType==1)?_c('span',[_vm._v(\"\\n                    \"+_vm._s(_vm.formatUtc(item.TimeArg1*1000))+\" -\\n                    \"+_vm._s(_vm.formatUtc(item.TimeArg2*1000))+\"\\n                  \")]):_c('span',[_vm._v(_vm._s(item.TimeArg1)+\"—\"+_vm._s(item.TimeArg2))])])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8,\"xs\":24}},[_c('div',[_c('label',[_vm._v(\"Ahead\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.Ahead))])])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8,\"xs\":24}},[_c('div',[_c('label',[_vm._v(\"Delay\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.Delay))])])])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"info_title\"},[_vm._v(\"CLIENT PARAMS\")]),_vm._v(\" \"),_c('div',{staticClass:\"info_content\"},[_c('el-row',_vm._l((item.ClientParams),function(clientItem,index){return _c('el-col',{key:index,attrs:{\"span\":12,\"xs\":24}},[_c('div',{staticClass:\"clientItem\"},[_c('label',[_vm._v(_vm._s(clientItem.Key))]),_vm._v(\" \"),(clientItem.Key=='INT_ACTIVITIES_TYPE')?_c('span',[_vm._v(_vm._s(_vm.reverseType('INT_ACTIVITIES_TYPESelect',clientItem.Value)))]):_c('span',[_vm._v(_vm._s(clientItem.Value))])])])}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"info_title\"},[_vm._v(\"ACTION PARAMS\")]),_vm._v(\" \"),_c('div',{staticClass:\"info_content\"},[_c('el-row',_vm._l((item.ActionParams),function(actionItem,index){return _c('el-col',{key:index,attrs:{\"span\":8,\"xs\":24}},[_c('div',[_c('label',[_vm._v(_vm._s(actionItem.Key))]),_vm._v(\" \"),(actionItem.Key=='shopId')?_c('span',[_vm._v(_vm._s(_vm.reverseType('activityShopSelect',actionItem.Value)))]):(actionItem.Key=='rankListId')?_c('span',[_vm._v(_vm._s(_vm.reverseType('activityRankTypeSelect',actionItem.Value)))]):(actionItem.Key=='rewardgroup')?_c('span',[_vm._v(_vm._s(_vm.reverseType('activityRankRewardSelect',actionItem.Value)))]):(actionItem.Key=='rankName')?_c('span',[_vm._v(_vm._s(_vm.reverseType('activityRankNameSelect',actionItem.Value)))]):(actionItem.Key=='taskmailTitle')?_c('span',[_vm._v(_vm._s(_vm.reverseType('activityMailTitleSelect',actionItem.Value)))]):(actionItem.Key=='tasklimit_type')?_c('span',[_vm._v(_vm._s(_vm.reverseType('activityTaskLimiteSelect',actionItem.Value)))]):(actionItem.Key=='tasklimit_range1')?_c('span',[_vm._v(_vm._s(_vm.reverseType('activityRangeTypeSelect',actionItem.Value)))]):(actionItem.Key=='tasklimit_recordtype')?_c('span',[_vm._v(_vm._s(_vm.reverseType('activityRecordTypeSelect',actionItem.Value)))]):_c('span',[_vm._v(_vm._s(actionItem.Value))])])])}),1)],1)])],2)}),1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.dialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"closed\":_vm.handleClose}},[(_vm.setResults.addSuccessServerIDList)?_c('div',[_vm._v(\"添加成功的服务器：\"+_vm._s(_vm.setResults.addSuccessServerIDList.join(\",\")))]):_vm._e(),_vm._v(\" \"),(_vm.setResults.addFailedServerIDList)?_c('div',[_vm._v(\"添加失败的服务器：\"+_vm._s(_vm.setResults.addFailedServerIDList.join(\",\")))]):_vm._e(),_vm._v(\" \"),(_vm.setResults.delSuccessServerIDList)?_c('div',[_vm._v(\"删除成功的服务器：\"+_vm._s(_vm.setResults.delSuccessServerIDList.join(\",\")))]):_vm._e(),_vm._v(\" \"),(_vm.setResults.delFailedServerIDList)?_c('div',[_vm._v(\"删除失败的服务器：\"+_vm._s(_vm.setResults.delFailedServerIDList.join(\",\")))]):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"确 定\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-22bdd2dc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/activity/edit.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-22bdd2dc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./edit.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-22bdd2dc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./edit.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./edit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./edit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-22bdd2dc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./edit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-22bdd2dc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/activity/edit.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}