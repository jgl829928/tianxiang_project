{"version":3,"sources":["webpack:///src/views/admin/edit.vue","webpack:///./src/views/admin/edit.vue?ecbd","webpack:///./src/views/admin/edit.vue"],"names":["edit","name","data","usr","ID","Name","tableData","mounted","this","$route","query","getdata","methods","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","$http","get","api","getAccess","params","sent","Code","Data","auth","stop","handlechange","row","Authorized","submitForm","Object","_callee2","_context2","post","editAccess","$message","message","type","$router","push","admin_edit","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","staticStyle","width","attrs","border","stripe","align","checkList","label","scopedSlots","_u","key","fn","scope","MainAuthName","checked","on","change","$event","min-width","_l","item","index","ViceAuthName","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/23.1352df38bf9ef3d40f6f.js","sourcesContent":["<template>\n    <div class=\"common_content\">\n        <div class=\"user_info\">Profile -- ID: [{{usr.ID}}] User: [{{usr.Name}}]</div>\n        <el-table :data=\"tableData\" style=\"width: 100%\" border class=\"content_table\" stripe>\n            <el-table-column align=\"center\" checkList label=\"MainAuth\">\n                <template slot-scope=\"scope\">\n                    <el-checkbox :label=\"scope.row.MainAuthName\" :checked=\"scope.row.Authorized\" @change=\"handlechange(scope.row)\"></el-checkbox>\n                </template>\n            </el-table-column>\n            <el-table-column align=\"center\" label=\"ViceAuth\" min-width=\"280\">\n                <template slot-scope=\"scope\">\n                    <el-checkbox v-for=\"(item, index) in scope.row.ViceAuthList\" :label=\"item.ViceAuthName\" :key=\"index\"\n                        @change=\"handlechange(item)\" :checked=\"item.Authorized\"></el-checkbox>\n                </template>\n            </el-table-column>\n        </el-table>\n        <el-button type=\"primary\" @click=\"submitForm\">提交</el-button>\n    </div>\n</template>\n\n<script>\nimport api from \"../../utils/api\";\nimport {  _debounce } from \"@/utils/auth\";\nexport default {\n  name:\"AdminEdit\",\n  data() {\n    return {\n      usr: {\n        ID: \"\",  //用户id\n        Name: \"\" //用户名\n      },\n      tableData: [] //表格数据\n    };\n  },\n  mounted() {\n    this.usr = {\n      ID: this.$route.query.ID,\n      Name: this.$route.query.Name\n    };\n    this.getdata();\n  },\n  methods: {\n    \n    // 初始化数据\n    async getdata() {\n      let res = await this.$http.get(api.getAccess, {\n        params: { usr: this.$route.query.Name }\n      });\n      if (res && res.Code === 1) {\n        this.tableData = res.Data.auth || [];\n      }\n    },\n\n    // 多选框改变\n    handlechange(row) {\n      row.Authorized = !row.Authorized;\n    },\n\n    // 提交表单\n    submitForm: _debounce(async function (){\n      let res = await this.$http.post(\n        `${api.editAccess}?usr=${this.usr.Name}`,\n        this.tableData\n      );\n      if (res && res.Code === 1) {\n        this.$message({\n          message: \" 编辑成功\",\n          type: \"success\"\n        });\n        this.$router.push(\"/admin\");\n      }\n    },500)\n  }\n};\n</script>\n\n<style scoped lang=\"less\">\n.common_content {\n  text-align: center;\n  .user_info {\n    margin-left: 20px;\n    text-align: left;\n  }\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/admin/edit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"common_content\"},[_c('div',{staticClass:\"user_info\"},[_vm._v(\"Profile -- ID: [\"+_vm._s(_vm.usr.ID)+\"] User: [\"+_vm._s(_vm.usr.Name)+\"]\")]),_vm._v(\" \"),_c('el-table',{staticClass:\"content_table\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"checkList\":\"\",\"label\":\"MainAuth\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-checkbox',{attrs:{\"label\":scope.row.MainAuthName,\"checked\":scope.row.Authorized},on:{\"change\":function($event){return _vm.handlechange(scope.row)}}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"ViceAuth\",\"min-width\":\"280\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.ViceAuthList),function(item,index){return _c('el-checkbox',{key:index,attrs:{\"label\":item.ViceAuthName,\"checked\":item.Authorized},on:{\"change\":function($event){return _vm.handlechange(item)}}})})}}])})],1),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"提交\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-18f4c7f4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/admin/edit.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-18f4c7f4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./edit.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./edit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./edit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-18f4c7f4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./edit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-18f4c7f4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/admin/edit.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}