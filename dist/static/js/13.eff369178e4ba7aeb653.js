webpackJsonp([13],{ohyA:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t("Xxa5"),l=t.n(a),o=t("exGp"),n=t.n(o),s=t("VsUZ"),i={name:"ServerEdit",data:function(){var e=/^((25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))$/,r=function(e,r,t){""===r?t(new Error("请输入port")):(0!=r&&(r<1024||r>49151)&&t(new Error("请输入正确的port")),t())};return{areaList:[],typeList:[],reqData:{id:"",type:"",name:"",exterip:"",innerip:"",clientport:"",commandport:"",watchport:"",linuxuser:"",projectroot:"",area:"",watchurl:""},rules:{id:[{required:!0,message:"请输入id",trigger:"blur"}],type:[{required:!0,message:"请输入type",trigger:"blur"}],name:[{required:!0,message:"请输入name",trigger:"blur"}],exterip:[{required:!0,message:"请输入exterip",trigger:"blur"},{pattern:e,message:"请输入正确的格式",trigger:"blur"}],innerip:[{required:!0,message:"请输入innerip",trigger:"blur"},{pattern:e,message:"请输入正确的格式",trigger:"blur"}],clientport:[{required:!0,message:"请输入clientport",trigger:"blur"},{validator:r,trigger:"blur"}],commandport:[{required:!0,message:"请输入commandport",trigger:"blur"},{validator:r,trigger:"blur"}],watchport:[{required:!0,message:"请输入watchport",trigger:"blur"},{validator:r,trigger:"blur"}],watchurl:[{required:!1,message:"请输入watchurl",trigger:"blur"},{pattern:/^[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+.?$/,message:"请输入正确的格式",trigger:"blur"}],linuxuser:[{required:!0,message:"请输入linuxuser",trigger:"blur"}],projectroot:[{required:!0,message:"请输入projectroot",trigger:"blur"}],area:[{required:!0,message:"请输入area",trigger:"blur"}]}}},created:function(){this.getSelect(),this.getdata()},methods:{submitForm:function(e){var r,t=this;this.$refs[e].validate((r=n()(l.a.mark(function e(r){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=11;break}return e.next=3,t.$http.post(s.b.serverEdit,t.reqData);case 3:if((a=e.sent)&&1===a.Code){e.next=7;break}return t.$message.error("编辑失败，请重试"),e.abrupt("return",!1);case 7:t.$message({message:"编辑成功",type:"success"}),t.$router.push("/server"),e.next=12;break;case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,t)})),function(e){return r.apply(this,arguments)}))},resetForm:function(e){this.$refs[e].resetFields()},getSelect:function(){var e=this;return n()(l.a.mark(function r(){var t;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$http.get(s.b.serverSelect);case 2:(t=r.sent)&&1===t.Code&&(e.areaList=t.Data.serverarealist,e.typeList=t.Data.servertypelist);case 4:case"end":return r.stop()}},r,e)}))()},getdata:function(){var e=this;return n()(l.a.mark(function r(){var t,a,o;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$http.get(s.b.serverInfo+"?serverid="+e.$route.query.id);case 2:if((t=r.sent)&&1===t.Code)for(o in a=t.Data.status[0])e.reqData[o.toLowerCase()]=a[o];case 4:case"end":return r.stop()}},r,e)}))()}}},c={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"common_page"},[t("div",{staticClass:"title"},[e._v("Edit Server Profile")]),e._v(" "),t("hr"),e._v(" "),t("div",{staticClass:"form_content"},[t("el-form",{ref:"reqform",staticClass:"demo-ruleForm",attrs:{model:e.reqData,"status-icon":"",rules:e.rules,"label-width":"160px","hide-required-asterisk":""}},[t("el-form-item",{attrs:{label:"Server ID",prop:"id"}},[t("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"ServerID",disabled:""},model:{value:e.reqData.id,callback:function(r){e.$set(e.reqData,"id",e._n(r))},expression:"reqData.id"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Server Type",prop:"type"}},[t("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.reqData.type,callback:function(r){e.$set(e.reqData,"type",r)},expression:"reqData.type"}},e._l(e.typeList,function(e,r){return t("el-option",{key:r,attrs:{value:e,label:e}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"Server Name",prop:"name"}},[t("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"ServerName"},model:{value:e.reqData.name,callback:function(r){e.$set(e.reqData,"name",r)},expression:"reqData.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Server Area",prop:"area"}},[t("el-select",{attrs:{placeholder:"all"},model:{value:e.reqData.area,callback:function(r){e.$set(e.reqData,"area",r)},expression:"reqData.area"}},e._l(e.areaList,function(e,r){return t("el-option",{key:r,attrs:{value:e,label:e}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"Exter IP",prop:"exterip"}},[t("el-input",{attrs:{placeholder:"ExterIP"},model:{value:e.reqData.exterip,callback:function(r){e.$set(e.reqData,"exterip",r)},expression:"reqData.exterip"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Inner IP",prop:"innerip"}},[t("el-input",{attrs:{placeholder:"InnerIP"},model:{value:e.reqData.innerip,callback:function(r){e.$set(e.reqData,"innerip",r)},expression:"reqData.innerip"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Client Port",prop:"clientport"}},[t("el-input",{attrs:{placeholder:"ClientPort"},model:{value:e.reqData.clientport,callback:function(r){e.$set(e.reqData,"clientport",e._n(r))},expression:"reqData.clientport"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Command Port",prop:"commandport"}},[t("el-input",{attrs:{placeholder:"CommandPort"},model:{value:e.reqData.commandport,callback:function(r){e.$set(e.reqData,"commandport",e._n(r))},expression:"reqData.commandport"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Linux User",prop:"linuxuser"}},[t("el-input",{attrs:{placeholder:"LinuxUser"},model:{value:e.reqData.linuxuser,callback:function(r){e.$set(e.reqData,"linuxuser",r)},expression:"reqData.linuxuser"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Project Root",prop:"projectroot"}},[t("el-input",{attrs:{placeholder:"ProjectRoot"},model:{value:e.reqData.projectroot,callback:function(r){e.$set(e.reqData,"projectroot",r)},expression:"reqData.projectroot"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Watch Port(only for chatserver)",prop:"watchport"}},[t("el-input",{attrs:{placeholder:"Watchport(only for chatserver)"},model:{value:e.reqData.watchport,callback:function(r){e.$set(e.reqData,"watchport",e._n(r))},expression:"reqData.watchport"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Watch URL(only for chatserver)",prop:"watchurl"}},[t("el-input",{attrs:{placeholder:"WatchUrl(only for chatserver)"},model:{value:e.reqData.watchurl,callback:function(r){e.$set(e.reqData,"watchurl",e._n(r))},expression:"reqData.watchurl"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.submitForm("reqform")}}},[e._v("提交")]),e._v(" "),t("el-button",{on:{click:function(r){e.resetForm("reqform")}}},[e._v("重置")])],1)],1)],1)])},staticRenderFns:[]},u=t("VU/8")(i,c,!1,null,null,null);r.default=u.exports}});
//# sourceMappingURL=13.eff369178e4ba7aeb653.js.map