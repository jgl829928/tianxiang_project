webpackJsonp([23],{"+Q1W":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Xxa5"),r=a.n(n),s=a("exGp"),c=a.n(s),u=a("VsUZ"),i=a("TIfe"),o={name:"AdminEdit",data:function(){return{usr:{ID:"",Name:""},tableData:[]}},mounted:function(){this.usr={ID:this.$route.query.ID,Name:this.$route.query.Name},this.getdata()},methods:{getdata:function(){var t=this;return c()(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get(u.b.getAccess,{params:{usr:t.$route.query.Name}});case 2:(a=e.sent)&&1===a.Code&&(t.tableData=a.Data.auth||[]);case 4:case"end":return e.stop()}},e,t)}))()},handlechange:function(t){t.Authorized=!t.Authorized},submitForm:Object(i.a)(c()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$http.post(u.b.editAccess+"?usr="+this.usr.Name,this.tableData);case 2:(e=t.sent)&&1===e.Code&&(this.$message({message:" 编辑成功",type:"success"}),this.$router.push("/admin"));case 4:case"end":return t.stop()}},t,this)})),500)}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"common_content"},[a("div",{staticClass:"user_info"},[t._v("Profile -- ID: ["+t._s(t.usr.ID)+"] User: ["+t._s(t.usr.Name)+"]")]),t._v(" "),a("el-table",{staticClass:"content_table",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{align:"center",checkList:"",label:"MainAuth"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{attrs:{label:e.row.MainAuthName,checked:e.row.Authorized},on:{change:function(a){return t.handlechange(e.row)}}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"ViceAuth","min-width":"280"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.ViceAuthList,function(e,n){return a("el-checkbox",{key:n,attrs:{label:e.ViceAuthName,checked:e.Authorized},on:{change:function(a){return t.handlechange(e)}}})})}}])})],1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("提交")])],1)},staticRenderFns:[]};var h=a("VU/8")(o,l,!1,function(t){a("rdeJ")},"data-v-18f4c7f4",null);e.default=h.exports},rdeJ:function(t,e){}});
//# sourceMappingURL=23.1352df38bf9ef3d40f6f.js.map