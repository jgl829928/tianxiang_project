webpackJsonp([16],{pYs8:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("woOf"),s=r.n(a),o=r("Xxa5"),i=r.n(o),n=r("exGp"),l=r.n(n),u=r("VsUZ"),p=r("TIfe"),c={name:"AdminAdd",data:function(){return{reqData:{usr:"",pwd:"",phone:"",position:"",email:""},positionList:[],rules:{usr:[{required:!0,message:"请输入用户姓名",trigger:"blur"},{pattern:/^[a-zA-Z][a-zA-Z0-9_]{4,20}$/,message:"请输入长度为5-20的字符",trigger:"blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^[a-zA-Z0-9]{8,20}$/,message:"请输入长度为8-20的字符",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[34578]\d{9}$/,message:"请输入正确的手机号",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],position:[{required:!0,message:"请输入职位",trigger:"blur"}]}}},created:function(){this.getData()},methods:{getData:function(){var e=this;return l()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get(u.b.adminAdd);case 2:(r=t.sent)&&1===r.Code&&(e.positionList=r.Data.positionlist||[]);case 4:case"end":return t.stop()}},t,e)}))()},submitForm:function(e){var t,r=this;this.$refs[e].validate((t=l()(i.a.mark(function e(t){var a,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return(a=s()({},r.reqData)).pwd=Object(p.a)(a.pwd),e.next=6,r.$http.post(u.b.adminAddSub,a);case 6:if((o=e.sent)&&1===o.Code){e.next=10;break}return r.$message.error("添加失败，请重试"),e.abrupt("return",!1);case 10:r.$message({message:"添加成功",type:"success"}),r.$router.push("/admin");case 12:case"end":return e.stop()}},e,r)})),function(e){return t.apply(this,arguments)}))},resetForm:function(e){this.$refs[e].resetFields()}}},m={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"common_page"},[r("div",{staticClass:"title"},[e._v("Create A New Profile")]),e._v(" "),r("hr"),e._v(" "),r("div",{staticClass:"form_content"},[r("el-form",{ref:"reqform",staticClass:"demo-ruleForm",attrs:{model:e.reqData,"status-icon":"",rules:e.rules,"label-width":"100px","hide-required-asterisk":""}},[r("el-form-item",{attrs:{label:"Username",prop:"usr"}},[r("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"Username"},model:{value:e.reqData.usr,callback:function(t){e.$set(e.reqData,"usr",t)},expression:"reqData.usr"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Password",prop:"pwd"}},[r("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"Password"},model:{value:e.reqData.pwd,callback:function(t){e.$set(e.reqData,"pwd",t)},expression:"reqData.pwd"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Phone",prop:"phone"}},[r("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"Phone"},model:{value:e.reqData.phone,callback:function(t){e.$set(e.reqData,"phone",t)},expression:"reqData.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Email",prop:"email"}},[r("el-input",{attrs:{placeholder:"Email"},model:{value:e.reqData.email,callback:function(t){e.$set(e.reqData,"email",t)},expression:"reqData.email"}})],1),e._v(" "),r("el-form-item",{staticClass:"position_select",attrs:{label:"Position",prop:"position"}},[r("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.reqData.position,callback:function(t){e.$set(e.reqData,"position",t)},expression:"reqData.position"}},e._l(e.positionList,function(e,t){return r("el-option",{key:t,attrs:{value:e,label:e}})}))],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("reqform")}}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:function(t){e.resetForm("reqform")}}},[e._v("重置")])],1)],1)],1)])},staticRenderFns:[]},d=r("VU/8")(c,m,!1,null,null,null);t.default=d.exports}});
//# sourceMappingURL=16.365c85efda8c63863d85.js.map